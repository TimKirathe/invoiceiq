# ============================================
# InvoiceIQ Environment Configuration
# ============================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# --------------------------------------------
# Twilio API Configuration - Used For Interaction With WhatsApp Business
# --------------------------------------------
# Get these values from Twilio WhatsApp Quickstart
# Documentation: https://www.twilio.com/docs/whatsapp/quickstart

# Twilio Auth token used to interact with your Twilio account
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here

# Twilio Phone number which you obtain either by purchase or which is assigned to you for sandbox testing
TWILIO_PHONE_ID=your_twilio_phone_number_id_here

# Twilio Account SID (Unique identifier for your account)
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here

# Twilio Invoice Template SID (Unique identifier for the template used for creating an invoice)
TWILIO_INVOICE_TEMPLATE_SID=your_twilio_invoice_template_sid_here

# --------------------------------------------
# SMS Provider Configuration (Africa's Talking)
# --------------------------------------------
# Get these from Africa's Talking dashboard: https://account.africastalking.com/
# For Twilio, set SMS_USERNAME to your Account SID

# API key from SMS provider
SMS_API_KEY=your_sms_provider_api_key_here

# Username (use 'sandbox' for testing, your AT username for production)
SMS_USERNAME=sandbox

# Sender ID for SMS (optional, leave empty for default)
SMS_SENDER_ID=

# Use sandbox environment (true for testing, false for production)
SMS_USE_SANDBOX=true

# --------------------------------------------
# M-PESA Configuration
# --------------------------------------------
# Get these from Safaricom Daraja Portal: https://developer.safaricom.co.ke/
# Documentation: https://developer.safaricom.co.ke/Documentation

# Consumer key from Daraja Portal
MPESA_CONSUMER_KEY=your_mpesa_consumer_key_here

# Consumer secret from Daraja Portal
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret_here

# Business shortcode (Paybill or Till number)
MPESA_SHORTCODE=your_business_shortcode_here

# Lipa Na M-PESA Online Passkey from Daraja Portal
MPESA_PASSKEY=your_mpesa_passkey_here

# Callback URL for M-PESA STK Push (must be HTTPS in production)
# For Fly.io: https://<app-name>.fly.dev/payments/stk/callback
# For local testing with ngrok: https://<subdomain>.ngrok.io/payments/stk/callback
MPESA_CALLBACK_URL=https://your-domain.com/payments/stk/callback

# Environment (sandbox or production)
MPESA_ENVIRONMENT=sandbox

# Payment type (paybill or till)
MPESA_PAYMENT_TYPE=paybill

# --------------------------------------------
# Database Configuration
# --------------------------------------------
# InvoiceIQ uses PostgreSQL with AsyncPG driver
#
# For local development (PostgreSQL via Docker Compose):
# DATABASE_URL=postgresql+asyncpg://invoiceiq_user:invoiceiq_pass@localhost:5432/invoiceiq
#
# For SQLite (development/testing only - not recommended for production):
# DATABASE_URL=sqlite+aiosqlite:///./data.db
#
# For Supabase (Production - Recommended):
# 1. Create a project at https://supabase.com
# 2. Go to Project Settings > Database
# 3. Copy the connection string (URI format)
# 4. Convert to AsyncPG format by adding "+asyncpg" and "?sslmode=require":
#    postgresql+asyncpg://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres?sslmode=require
#
# For Supabase with connection pooling (recommended for high-traffic):
# Use port 6543 instead of 5432:
#    postgresql+asyncpg://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:6543/postgres?sslmode=require
#
# Example Supabase connection string:
# DATABASE_URL=postgresql+asyncpg://postgres:your_password@db.abcdefghijklmnop.supabase.co:5432/postgres?sslmode=require

DATABASE_URL=postgresql+asyncpg://invoiceiq_user:invoiceiq_pass@localhost:5432/invoiceiq

# --------------------------------------------
# Application Configuration
# --------------------------------------------

# Application name
APP_NAME=InvoiceIQ

# Enable debug mode (true for development, false for production)
DEBUG=false

# Environment (development, staging, production)
ENVIRONMENT=development
